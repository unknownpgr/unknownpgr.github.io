<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="description" content="Unknownpgr&#x27;s Blog"/><link rel="icon" href="/favicon.png"/><meta property="og:title" content="Unknownpgr&#x27;s Blog"/><meta property="og:url" content="https://unknownpgr.com"/><meta property="og:image" content="/logo.png"/><title>Unknownpgr : 유용한 파일 관련 명령어</title><meta property="og:title" content="Unknownpgr: 유용한 파일 관련 명령어"/><meta name="next-head-count" content="9"/><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/2e1e96656eb72d38.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2e1e96656eb72d38.css" data-n-g=""/><link rel="preload" href="/_next/static/css/14062eec27ee8c3f.css" as="style"/><link rel="stylesheet" href="/_next/static/css/14062eec27ee8c3f.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-8fa1640cc84ba8fe.js" defer=""></script><script src="/_next/static/chunks/framework-3b5a00d5d7e8d93b.js" defer=""></script><script src="/_next/static/chunks/main-1cd5204319a0e744.js" defer=""></script><script src="/_next/static/chunks/pages/_app-b2167bfc37ff4f0b.js" defer=""></script><script src="/_next/static/chunks/pages/posts/%5Bid%5D-fe089d9906e2f51a.js" defer=""></script><script src="/_next/static/J78yeqK7YdrnP9n_J5TLF/_buildManifest.js" defer=""></script><script src="/_next/static/J78yeqK7YdrnP9n_J5TLF/_ssgManifest.js" defer=""></script></head><body><div id="__next"><nav class="nav_nav__XkaAa"><a class="nav_logo__drPJg" href="/">[UNKNOWN-PGR]</a><a class="nav_link__KHlEJ" href="/">Home</a><a class="nav_link__KHlEJ" href="/categories/">Categories</a><a class="nav_link__KHlEJ" href="/about/">About</a></nav><main class="layout_main__j5lor"><div><h1 class="post_title__aQveY">유용한 파일 관련 명령어</h1><main class="post_main__mmVmG"><p>잘 알려져 있다시피, 리눅스에서는 모든 대상이 파일로 관리됩니다. 저는 이걸 처음 배웠을 때 그냥 아...그렇구나...하고 넘겼었는데요. 그런데 알고 보니 제 생각보다 훨씬 더 많은 것이 파일로 구현되어 있었습니다.</p>
<h1>디스크 복사하기</h1>
<p>리눅스에서는 디스크 드라이버 자체가 하나의 파일입니다. <code>/dev/sda</code>와 같은 식으로 파일 형식으로 되어 있습니다. 그런데 재미있는 점은 파일시스템이 디스크 드라이버보다 상위의 시스템이라는 것입니다. 즉, 이 디스크를 그냥 파일로써 읽으면 파일시스템 아래의 raw data를 전부 볼 수 있습니다. (잘만 하면 이런 식으로 삭제된 데이터 복구 등도 가능할 것 같습니다.)</p>
<p>그래서 한 디스크를 통째로 파일로 백업하고 싶을 때에는 아래와 같이 cat 명령어를 사용해서 할 수 있습니다.(...) <code>/dev/sda</code>디바이스를 파일로 백업하고, 다시 돌려놔보겠습니다.</p>
<p>먼저 <code>chmod</code> 명령어를 사용하여 <code>/dev/sda</code>의 권한을 변경해줍니다.</p>
<pre><code class="language-shell">sudo chmod 777 /dev/sda
</code></pre>
<p>다음으로 <code>cat</code> 명령어를 이용하여 파일 복사를 수행해서 백업해줍니다.</p>
<pre><code class="language-shell">cat /dev/sda &gt; sda.backup
</code></pre>
<p>반대로 이 백업 파일을 원래 디바이스로 돌리고 싶을 때에도 똑같이 할 수 있습니다.</p>
<pre><code class="language-shell">cat sda.backup &gt; /dev/sda
</code></pre>
<p>한 디스크를 다른 디스크로 복제하고 싶을 때에도 똑같이 할 수 있습니다.</p>
<pre><code class="language-shell">cat /dev/sda &gt; /dev/sdb
</code></pre>
<p>물론 두 디스크 모두에 대한 R/W권한이 있어야 합니다.</p>
<h1>파일 복사하기</h1>
<p>그런데 디스크 전체를 복제하는 것이 아니라 특정 디렉토리만 복사하고 싶을 수도 있습니다. 그럴 때에는 <code>cp</code> 명령어를 사용하면 되는데, 이것 역시 유용한 옵션이 많아 알아 두면 좋습니다.</p>
<ul>
<li><code>-r</code> : 재귀적으로 복사를 수행</li>
<li><code>-u</code> : 목적 파일이 존재하지 않거나, 목적 파일보다 원본 파일이 더 최근에 생성된 경우에만 복사</li>
<li><code>-p</code> : 권한, 날짜, 소유자를 모두 보존하여 복사</li>
<li><code>-a</code> : 재귀적으로, 심볼릭 링크는 보존하지 않으며, 모든 메타데이터를 보존하도록</li>
<li><code>-v</code> : 로그 출력</li>
</ul>
<p>그래서 백업 시에는 아래와 같이 <code>-au</code>  옵션을 사용하면 유용합니다.</p>
<pre><code class="language-shell">cp -au [src] [dst]
</code></pre>
</main><h1>Posts in <!-- -->tips<!-- --> category</h1><ul><li class="post_list__OlrZL"><a href="/posts/2022-12-22-programmer/">어떻게 개발자가 되는가?</a></li><li class="post_listSelected__vtK9Y"><a href="/posts/2021-01-13-code-2/">유용한 파일 관련 명령어</a></li><li class="post_list__OlrZL"><a href="/posts/2020-08-08-code-1/">유용한 SSH/SCP 명령어</a></li></ul><div></div></div></main><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-5695206410217978" data-ad-slot="9579212903" data-ad-format="auto" data-full-width-responsive="true"></ins><footer class="footer_footer__E_Uzl">© 2020 Copyright : Unknownpgr</footer></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"유용한 파일 관련 명령어","category":"tips","date":"2021-01-13T06:19:32.212Z","postStr":"---\ntitle: 유용한 파일 관련 명령어\ncategory: tips\ndate: 2021-01-13T06:19:32.212Z\n\n---\n\n잘 알려져 있다시피, 리눅스에서는 모든 대상이 파일로 관리됩니다. 저는 이걸 처음 배웠을 때 그냥 아...그렇구나...하고 넘겼었는데요. 그런데 알고 보니 제 생각보다 훨씬 더 많은 것이 파일로 구현되어 있었습니다.\n\n# 디스크 복사하기\n\n리눅스에서는 디스크 드라이버 자체가 하나의 파일입니다. `/dev/sda`와 같은 식으로 파일 형식으로 되어 있습니다. 그런데 재미있는 점은 파일시스템이 디스크 드라이버보다 상위의 시스템이라는 것입니다. 즉, 이 디스크를 그냥 파일로써 읽으면 파일시스템 아래의 raw data를 전부 볼 수 있습니다. (잘만 하면 이런 식으로 삭제된 데이터 복구 등도 가능할 것 같습니다.)\n\n그래서 한 디스크를 통째로 파일로 백업하고 싶을 때에는 아래와 같이 cat 명령어를 사용해서 할 수 있습니다.(...) `/dev/sda`디바이스를 파일로 백업하고, 다시 돌려놔보겠습니다.\n\n먼저 `chmod` 명령어를 사용하여 `/dev/sda`의 권한을 변경해줍니다.\n\n```shell\nsudo chmod 777 /dev/sda\n```\n\n다음으로 `cat` 명령어를 이용하여 파일 복사를 수행해서 백업해줍니다.\n\n```shell\ncat /dev/sda \u003e sda.backup\n```\n\n반대로 이 백업 파일을 원래 디바이스로 돌리고 싶을 때에도 똑같이 할 수 있습니다.\n\n```shell\ncat sda.backup \u003e /dev/sda\n```\n\n한 디스크를 다른 디스크로 복제하고 싶을 때에도 똑같이 할 수 있습니다.\n\n```shell\ncat /dev/sda \u003e /dev/sdb\n```\n\n물론 두 디스크 모두에 대한 R/W권한이 있어야 합니다.\n\n# 파일 복사하기\n\n그런데 디스크 전체를 복제하는 것이 아니라 특정 디렉토리만 복사하고 싶을 수도 있습니다. 그럴 때에는 `cp` 명령어를 사용하면 되는데, 이것 역시 유용한 옵션이 많아 알아 두면 좋습니다.\n\n- `-r` : 재귀적으로 복사를 수행\n- `-u` : 목적 파일이 존재하지 않거나, 목적 파일보다 원본 파일이 더 최근에 생성된 경우에만 복사\n- `-p` : 권한, 날짜, 소유자를 모두 보존하여 복사\n- `-a` : 재귀적으로, 심볼릭 링크는 보존하지 않으며, 모든 메타데이터를 보존하도록\n- `-v` : 로그 출력\n\n그래서 백업 시에는 아래와 같이 `-au`  옵션을 사용하면 유용합니다.\n\n```shell\ncp -au [src] [dst]\n```","html":"\u003cp\u003e잘 알려져 있다시피, 리눅스에서는 모든 대상이 파일로 관리됩니다. 저는 이걸 처음 배웠을 때 그냥 아...그렇구나...하고 넘겼었는데요. 그런데 알고 보니 제 생각보다 훨씬 더 많은 것이 파일로 구현되어 있었습니다.\u003c/p\u003e\n\u003ch1\u003e디스크 복사하기\u003c/h1\u003e\n\u003cp\u003e리눅스에서는 디스크 드라이버 자체가 하나의 파일입니다. \u003ccode\u003e/dev/sda\u003c/code\u003e와 같은 식으로 파일 형식으로 되어 있습니다. 그런데 재미있는 점은 파일시스템이 디스크 드라이버보다 상위의 시스템이라는 것입니다. 즉, 이 디스크를 그냥 파일로써 읽으면 파일시스템 아래의 raw data를 전부 볼 수 있습니다. (잘만 하면 이런 식으로 삭제된 데이터 복구 등도 가능할 것 같습니다.)\u003c/p\u003e\n\u003cp\u003e그래서 한 디스크를 통째로 파일로 백업하고 싶을 때에는 아래와 같이 cat 명령어를 사용해서 할 수 있습니다.(...) \u003ccode\u003e/dev/sda\u003c/code\u003e디바이스를 파일로 백업하고, 다시 돌려놔보겠습니다.\u003c/p\u003e\n\u003cp\u003e먼저 \u003ccode\u003echmod\u003c/code\u003e 명령어를 사용하여 \u003ccode\u003e/dev/sda\u003c/code\u003e의 권한을 변경해줍니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003esudo chmod 777 /dev/sda\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e다음으로 \u003ccode\u003ecat\u003c/code\u003e 명령어를 이용하여 파일 복사를 수행해서 백업해줍니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecat /dev/sda \u0026gt; sda.backup\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e반대로 이 백업 파일을 원래 디바이스로 돌리고 싶을 때에도 똑같이 할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecat sda.backup \u0026gt; /dev/sda\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e한 디스크를 다른 디스크로 복제하고 싶을 때에도 똑같이 할 수 있습니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecat /dev/sda \u0026gt; /dev/sdb\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e물론 두 디스크 모두에 대한 R/W권한이 있어야 합니다.\u003c/p\u003e\n\u003ch1\u003e파일 복사하기\u003c/h1\u003e\n\u003cp\u003e그런데 디스크 전체를 복제하는 것이 아니라 특정 디렉토리만 복사하고 싶을 수도 있습니다. 그럴 때에는 \u003ccode\u003ecp\u003c/code\u003e 명령어를 사용하면 되는데, 이것 역시 유용한 옵션이 많아 알아 두면 좋습니다.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003e-r\u003c/code\u003e : 재귀적으로 복사를 수행\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e-u\u003c/code\u003e : 목적 파일이 존재하지 않거나, 목적 파일보다 원본 파일이 더 최근에 생성된 경우에만 복사\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e-p\u003c/code\u003e : 권한, 날짜, 소유자를 모두 보존하여 복사\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e-a\u003c/code\u003e : 재귀적으로, 심볼릭 링크는 보존하지 않으며, 모든 메타데이터를 보존하도록\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e-v\u003c/code\u003e : 로그 출력\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e그래서 백업 시에는 아래와 같이 \u003ccode\u003e-au\u003c/code\u003e  옵션을 사용하면 유용합니다.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"language-shell\"\u003ecp -au [src] [dst]\n\u003c/code\u003e\u003c/pre\u003e\n","imageMapping":{},"name":"2021-01-13-code-2"},"postsInSameCategory":[{"name":"2022-12-22-programmer","title":"어떻게 개발자가 되는가?","date":"2022-12-22T14:13:19.220Z","category":"tips"},{"name":"2021-01-13-code-2","title":"유용한 파일 관련 명령어","date":"2021-01-13T06:19:32.212Z","category":"tips"},{"name":"2020-08-08-code-1","title":"유용한 SSH/SCP 명령어","date":"2020-08-08T12:31:29.912Z","category":"tips"}]},"__N_SSG":true},"page":"/posts/[id]","query":{"id":"2021-01-13-code-2"},"buildId":"J78yeqK7YdrnP9n_J5TLF","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>